(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{171:function(e,t,n){},172:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(0),i=n(18),o=n.n(i),c=(n(171),n(24)),l=n(12),s=n(95),u=(n(172),n(74)),d=n(33),b=n(80),h=n(67),f=n(142),j=n.n(f),p=n(151),m=n(240),g=n(238),x=n(236),O=n(237),y=n(235),C=n(241),v=n(109),M=n(138),k=n.n(M),N=n(139),I=n.n(N),w=n(140),S=n.n(w),D=n(141),R=n.n(D),A=Object(b.a)((function(e){return{root:{flexDirection:"column","& .ant-empty-img-1":{fill:"light"===e.palette.type?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===e.palette.type?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===e.palette.type?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===e.palette.type?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===e.palette.type?"0.8":"0.08",fill:"light"===e.palette.type?"#f5f5f5":"#fff"}},label:{marginTop:e.spacing(3)}}}));function F(){var e=A();return Object(a.jsxs)(u.c,{className:e.root,children:[Object(a.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:Object(a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(a.jsxs)("g",{transform:"translate(24 31.67)",children:[Object(a.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),Object(a.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),Object(a.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),Object(a.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),Object(a.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),Object(a.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[Object(a.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),Object(a.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),Object(a.jsx)("div",{className:e.label,children:"No Rows"})]})}function z(){var e=Object(s.a)(["\nmutation($name: String!) {\n  createResult(name: $name) {\n    result {\n      id\n      name\n      value\n      createdAt\n      status\n    }\n  }\n}\n"]);return z=function(){return e},e}function H(){var e=Object(s.a)(["\nmutation($resultId: Int!) {\n  deleteResult(resultId: $resultId) {\n    resultId\n  }\n}\n"]);return H=function(){return e},e}function G(){var e=Object(s.a)(["\n{\n\tresults {\n        id\n        name\n        value\n        createdAt\n        status\n  }\n}\n"]);return G=function(){return e},e}var q=Object(b.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},buttons:{display:"flex",justifyContent:"space-evenly",padding:10},title:{textAlign:"center"},chip:{"& .MuiChip-label":{minWidth:"85px"}},root:{"& .MuiDataGrid-colCellTitle":{display:"block",textAlign:"center",width:"100%",fontWeight:"bolder",fontSize:16},"& .MuiCheckbox-root svg":{width:16,height:16,backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"#d9d9d9":"rgb(67, 67, 67)"),borderRadius:2},"& .MuiCheckbox-root svg path":{display:"none"},"& .MuiCheckbox-root.Mui-checked:not(.MuiCheckbox-indeterminate) svg":{backgroundColor:"#1890ff",borderColor:"#1890ff"},"& .MuiCheckbox-root.Mui-checked .MuiIconButton-label:after":{position:"absolute",display:"table",border:"2px solid #fff",borderTop:0,borderLeft:0,transform:"rotate(45deg) translate(-50%,-50%)",opacity:1,transition:"all .2s cubic-bezier(.12,.4,.29,1.46) .1s",content:'""',top:"50%",left:"39%",width:5.71428571,height:9.14285714},"& .MuiCheckbox-root.MuiCheckbox-indeterminate .MuiIconButton-label:after":{width:8,height:8,backgroundColor:"#1890ff",transform:"none",top:"39%",border:0},border:0,color:"light"===e.palette.type?"rgba(0,0,0,.85)":"rgba(255,255,255,0.85)",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),WebkitFontSmoothing:"auto",letterSpacing:"normal","& .MuiDataGrid-columnsContainer":{backgroundColor:"light"===e.palette.type?"#fafafa":"#1d1d1d"},"& .MuiDataGrid-iconSeparator":{display:"none"},"& .MuiDataGrid-colCell, .MuiDataGrid-cell":{borderRight:"1px solid ".concat("light"===e.palette.type?"#f0f0f0":"#303030")},"& .MuiDataGrid-columnsContainer, .MuiDataGrid-cell":{borderBottom:"1px solid ".concat("light"===e.palette.type?"#f0f0f0":"#303030")},"& .MuiDataGrid-cell":{textAlign:"center",justifyContent:"center",color:"light"===e.palette.type?"rgba(0,0,0,.85)":"rgba(255,255,255,0.65)"},"& .MuiPaginationItem-root":{borderRadius:0}}}})),E=Object(d.gql)(G()),L=Object(d.gql)(H()),P=Object(d.gql)(z());var T=function(){var e=q(),t=Object(r.useState)(""),n=Object(l.a)(t,2),i=n[0],o=n[1],s=Object(r.useState)(!1),b=Object(l.a)(s,2),f=b[0],M=b[1],N=Object(r.useState)([]),w=Object(l.a)(N,2),D=w[0],A=w[1],z=Object(d.useQuery)(E,{pollInterval:500}),H=z.loading,G=z.error,T=z.data,V=z.refetch,B=[{field:"id",headerName:"ID",width:150},{field:"name",headerName:"Name",flex:1},{field:"value",headerName:"Value",type:"number",flex:.5},{field:"status",headerName:"Status",flex:.5,renderCell:function(t){return function(t){var n=function(e){switch(e){case"FINISHED":return Object(a.jsx)(k.a,{});case"QUEUEING":return Object(a.jsx)(I.a,{});case"RUNNING":return Object(a.jsx)(S.a,{});case"FAILED":return Object(a.jsx)(R.a,{});default:return Object(a.jsx)("p",{children:"Wrong Status Code!"})}}(t);return Object(a.jsx)(C.a,{className:e.chip,avatar:n,label:t,variant:"outlined"})}(t.value)}},{field:"createdAt",headerName:"Created At",description:"Date and time of creation.",sortable:!0,type:"dateTime",flex:1,renderCell:function(e){var t=new Date(e.value);return Object(a.jsx)("p",{children:t.toUTCString()})}}],Q=Object(d.useMutation)(L,{onCompleted:function(e){A([])},update:function(e,t){return J(e,t)}}),U=Object(l.a)(Q,1)[0],W=Object(d.useMutation)(P,{onCompleted:function(e){V()},update:function(e,t){return K(e,t)}}),$=Object(l.a)(W,1)[0],J=function(e,t){var n=t.data.deleteResult,a=e.readQuery({query:E}),r=a.results.findIndex((function(e){return Number(e.id)===n.resultId})),i=[].concat(Object(c.a)(a.results.slice(0,r)),Object(c.a)(a.results.slice(r+1)));e.writeQuery({query:E,data:{results:i}})},K=function(e,t){var n=t.data.createResult,a=e.readQuery({query:E}).results.concat(n.result);e.writeQuery({query:E,data:{results:a}})},X=function(){return M(!1)};return H?Object(a.jsx)("p",{children:"Loading..."}):G?Object(a.jsx)("p",{children:"Error :("}):Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{className:e.title,variant:"h2",component:"h2",children:"Test Runs"}),Object(a.jsxs)("div",{className:e.buttons,children:[Object(a.jsx)(h.a,{variant:"outlined",color:"secondary",className:e.button,startIcon:Object(a.jsx)(j.a,{}),onClick:function(){D.forEach((function(e){U({variables:{resultId:e}})}))},children:"Delete"}),Object(a.jsx)(h.a,{variant:"outlined",color:"primary",className:e.button,startIcon:Object(a.jsx)(u.a,{}),onClick:function(){return M(!0)},children:"Create"})]}),Object(a.jsx)("div",{style:{height:800,width:"100%"},children:Object(a.jsx)(u.b,{className:e.root,hideFooterPagination:!0,showToolbar:!0,hideFooterRowCount:!0,disableSelectionOnClick:!0,autoHeight:!0,checkboxSelection:!0,rowsPerPageOptions:[],rows:T.results,columns:B,onSelectionChange:function(e){return A(e.rowIds)},components:{noRowsOverlay:F}})}),Object(a.jsxs)(m.a,{open:f,onClose:X,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(y.a,{id:"form-dialog-title",children:"Create Result"}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(O.a,{children:"Complete the data to create a result."}),Object(a.jsx)(p.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",fullWidth:!0,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(h.a,{onClick:X,color:"primary",children:"Cancel"}),Object(a.jsx)(h.a,{disabled:!i.trim(),onClick:function(){$({variables:{name:i}}),o(""),M(!1)},color:"primary",children:"Create"})]})]})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,243)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};console.log("Production mode");var B=Object(d.createHttpLink)({uri:"http://backend-django-task-queues.herokuapp.com/graphql/",credentials:"same-origin"}),Q=new d.ApolloClient({link:B,cache:new d.InMemoryCache({typePolicies:{Query:{fields:{results:{merge:function(e,t){return t}}}}}})});o.a.render(Object(a.jsx)(d.ApolloProvider,{client:Q,children:Object(a.jsx)(T,{})}),document.getElementById("root")),V()}},[[183,1,2]]]);
//# sourceMappingURL=main.759d174c.chunk.js.map